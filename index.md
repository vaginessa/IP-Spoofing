
*به علت طولانی بودن متن، امکان خلاصه نویسی در دو پاراگراف وبسط و تحلیل در دو پاراگراف دیگر ممکن نبود. لذا هر پاراگراف از گزارش نوشته شده شامل بخشی خلاصه شده از متن اصلی به همراه تحلیل و بسط آن می‌باشد.*

### DDoS-IP Spoofing
حملات‌ 
	حملات 
	Distributed Denial of Service
	یا اختصارا  DDoS حملاتی هستند که حمله‌کننده در دسترس پذیری یک سرویس اینترنتی را هدف قرار می‌دهد. این حملات بسیار گسترده بوده و طبق آمار‌های شرکت CloudFlare در روزهای اوج تا ۱۲۰۰ حمله مجزا ثبت شده‌است. ابزار مهمی که در جهت این هدف مورد استقاده قرار می‌گیرد IP Spoofing یا همان جعل آدرس IP است.  ایده اصلی این است که در ارسال بسته‌های IP هیچ‌گونه تایید هویت‌ای بر روی مبدا بسته یا بخش source IP 
	در سرآینده بسته‌های IP صورت نمی‌گیرد. لذا هر فردی می‌تواند هربسته IP با مبدا دلخواه خود که لزوما معتبر نیست، ایجاد کند. صرفا کافی‌است مبدا دلخواه خود را در  بیت‌های مربوطه در سرآینده بسته‌ها بنویسد. یک راه‌حل برای محدود‌کردن این حمله این است که ISP ها اجازه انتشار بسته‌های جعلی را ندهند. به این معنی که اگر در مبدا بسته در محدوده IP های آن ISP نیست و درعین حال از داخل شبکه آن ISP می‌خواهد ارسال شود بسته مذکور drop شود که به این فرآیند 
	Ingress Filtering
	گفته می‌شود. متاسفانه این راه‌حل نهایی نیست زیرا باوجود هشدار‌های فراوانی که در مورد این حمله‌ها در سند BCP38 داده شده است همچنان ۲۷ درصد از ‌ISP ها به مشتریان خود اجازه ارسال بسته‌های جعلی را می‌دهند.\\
	از جعل آدرس IP درحملات پیچیده‌تری استفاده می‌شود که دو مورد آن  ذکر می‌شود.

### SYN Flood
یک نمونه استفاده از IP Spoofing در حمله DDoS حملات Syn Flood هستند. به این معنا که حمله‌کننده تعداد زیادی آدرس IP را جعل می‌کند و به نام این آدرس‌های IP حجم زیادی بسته SYN به سمت سرور روانه می‌کند. دریافت این SYN ها توسط سرور بدون این‌که لزوما SYN-ACK ای به همراه داشته باشند باعث پرشدن حافظه و قطع ارتباطات می‌شود. با یک tcpdump ساده می‌توان متوجه شد که تعداد زیادی بسته SYN دریافت کرده‌ایم که IP مبدا آن‌ها بنظر تصادفی می‌آید. حال باید بررسی کنیم که این بسته‌ها را روتر‌های مرزی ما از کجا دریافت کرده‌اند تا بتوانیم حمله را ردگیری کنیم. در این‌جا سه احتمال وجود دارد:
۱. روتر بسته‌های را از یک Direct Peering
		 دریافت کرده باشد. یعنی یک مولفه اینترنتی که با آن تعامل داریم. در این حالت مشکل به سادگی برطرف می‌شود زیرا بسته جریان سازمانی گذشته که با ما همکاری دارد و هر دو طرف برای پیدا کردن حمله‌کننده مصمم هستند.	 	 
	۲. حالت دوم زمانی است که روتر بسته را از Internet Exchange
		دریافت کرده‌است.	Internet Exchange مجموعه‌ای از ISP  های محلی است. در این‌جا کار دشوار می‌شود زیرا دقیقا مشخص نیست که  کدام ISP به سوییچ متصل بوده. این اطلاعات در لایه ۲ موجود است اما روتر‌ها در لایه ۳ این اطلاعات را نمی‌توانند بررسی کنند.	
		۳. حالت سوم حالتی‌ست که روتر بسته‌ها را از Internet Carrier دریافت کرده که ارتباط ما را با خارج از منطقه داخلی برقرار می‌کند. در این حالت هم ردیابی تقریبا غیرممکن است زیرا اولا غیرقانونی بودن ترافیک  باید به Internet Carier اثبات شود و ثانیا ساختار مناسبی برای ردگیری بسته‌ها وجود ندارد و به فرض پذیرفتن غیرفانونی بودن Internet Exchange نمی‌تواند به طور مناسب ترافیک را ردیابی کند.
		استفاده از firewall در این حمله برای محدود کردن بسته‌های SYN دریافتی کار آسانی نیست زیرا ما نمی‌خوایم کاربران عادی را از برقرای ارتباط محروم کنیم. برای استفاده از firewall لازم است بسته‌ها را بررسی کنیم و سپس در صورت تشخیص حمله آن‌ها را فیلتر کنیم. برای این‌کار می‌توان از BPF استفاده کرد که این امکان را می‌دهد که بتوان کد اسمبلی را داخل firewall اجرا کرد و روی بسته‌ها بررسی بیشتر انجام داد.
### DNS Amplification

نمونه بعدی حمله DNS Amplification است. در این مدل حمله‌کننده یک درخواست به سرور UDP با آدرس جعلی IP می‌فرستد. سرور UDP پاسخ این درخواست را که ۱۰‌ها برابر حجیم‌تر از خود درخواست است، به آدرس ‌IP جعل شده می‌فرستد که هیچ‌گاه چنین درخواستی از سرور را نکرده بود. درمارچ ۲۰۱۳ حمله SpamHaus از این نوع حملات بود. در این حمله، حمله‌کننده با استفاده از ۳ سرور َUDP با مجموع ۳۰ گیگابایت بر ثانیه پهنای باند توانست ۳۰۰ گیگابایت در ثانیه ترافیک را به سمت قربانی روانه کند. با استفاده از firewall می‌توان با این نوع از حملات مقابله کرد. به‌طور مثال در firewall تنظیم کنیم که ترافیک ناخواسته از پورت ۵۳ را فیلتر کند. هم‌چنین ابزار‌هایی وجود دارند که سرور‌های UDP درمعرض حمله را نشان می‌دهند.

### Hilbert's Curve
محدوده آدرس‌های IP که در حملات مختلف استفاده می‌شوند را می‌توان در دو بعد با استقاده از Hilbert's Curve
مدل کرد. دراین نمودار‌های نقاط نزدیک‌تر به هم آدرس‌های IP نزدیک‌تری هم دارند. مدل‌ها مختلفی وجود دارد.
	![random](/images/1.jpg)
  در این مدل حمله‌ کننده از آدرس‌های تصادفی در کل محدوده ۰.۰.۰.۰ تا ۲۵۵.۲۵۵.۲۵۵۵.۲۵۵ استفاده کرده است. پس حتی اگر بررسی کنیم از آدرس محلی هم حمله‌ را می‌بینیم.
![wiser](/images/2.jpg)
  این مدل کمی هوشمند‌تر است و اعداد تصادفی را در کل محدوده آدرس‌های مجاز انتخاب نمی‌کند و بلاک‌های /۸ محلی را درنظر نمی‌گیرد. البته ممکن است نتیجه هوشمندی نباشد و ارائه کننده سرویس محلی بسته‌ها را فیلتر کرده باشد.
 ![higher bits set to one](/images/3.jpg)
آدرس‌هایی جعل شده‌اند که رقم پر‌ارزش‌تر آن‌ها یک باشد. علت این‌کار واضح نیست.
  ![the wisets](/images/4.jpg)
  ابتدا ممکن است به علت نحوه توزیع بنظر برسد که این آدرس‌ها آدرس‌های مجاز متعلق به یک ارائه کننده سرویس اینترنتی قانونی هستند. ولی این‌گونه نیست و این آدرس‌ها در محدوده آدرس‌های تاریک هستند یعنی بلاک‌های آدرسی که بلااستقاده هستند و به کسی تخصیص داده نشده‌اند. این آدرس‌ها برای حمله‌کننده‌ها قربانیان مناسبی هستند.
